{% extends "base.html" %}
{% block title %}Order {{ order.order_id }}{% endblock %}

{% block content %}
<div class="card shadow-sm mb-3">
  <div class="card-body">
    <h3 class="card-title mb-3">Order {{ order.order_id }}</h3>

    <div class="row">
      <div class="col-md-6">
        <p><strong>Product:</strong> {{ order.product.name }}</p>
        <p><strong>Status:</strong> {{ order.get_status_display }}</p>
        <p><strong>Quantity:</strong> {{ order.quantity }}</p>
        <p><strong>Estimated delivery:</strong> {{ order.estimated_delivery|date:"Y-m-d" }}</p>
      </div>
      <div class="col-md-6 text-center">
        <p class="mb-2"><strong>Uploaded image</strong></p>
        <img src="{{ order.uploaded_image_url }}" alt="Order image"
             class="img-fluid rounded shadow-sm" style="max-height: 280px; object-fit: contain;">
      </div>
    </div>
  </div>
</div>

<div class="d-flex gap-2">
  {% if order.can_user_edit %}
  <a class="btn btn-primary" href="{% url 'order_update' order.pk %}">Edit</a>
  <a class="btn btn-danger" href="{% url 'order_delete' order.pk %}">Delete</a>
  {% endif %}

  {% if user.is_staff %}
  <a class="btn btn-outline-secondary" href="{% url 'admin_order_status' order.pk %}">
    Update status (admin)
  </a>
  {% endif %}
</div>
{% endblock %}
